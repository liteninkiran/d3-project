<div class="container">

    <div class="header-row" cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle>
        <h1>Chart Settings</h1>
        <button
            mat-mini-fab
            matTooltip="Close Form"
            matTooltipPosition="above"
            (click)="handleClose()"
            class="close-button"
        >
            <mat-icon>close</mat-icon>
        </button>
    </div>

    <mat-dialog-content [formGroup]="form">

        <mat-tab-group>

            <!-- Chart Type Tab -->
            <mat-tab label="Chart Type">
                <app-chart-type-options
                    [group]="chartTypeGroup"
                />
            </mat-tab>

            <!-- Line Tab -->
            <mat-tab label="Line" *ngIf="form.value.chartType.type === 'line'">
                <app-line-options
                    [group]="lineGroup"
                    [markerColour]="form.value.markers.colour"
                    (setColourOutput)="setColourFromChild($event)"
                />
             </mat-tab>

            <!-- Markers Tab -->
            <mat-tab label="Markers" *ngIf="form.value.chartType.type === 'line'">
                <app-marker-options
                    [group]="markerGroup"
                    [lineColour]="form.value.line.colour"
                    (setColourOutput)="setColourFromChild($event)"
                />
            </mat-tab>

            <!-- Bars Tab -->
            <mat-tab label="Bar" *ngIf="form.value.chartType.type === 'bar'">
                <app-bar-options
                    [group]="barGroup"
                    [lineColour]="form.value.line.colour"
                    (setColourOutput)="setColourFromChild($event)"
                />
            </mat-tab>

            <!-- Dimensions Tab -->
            <mat-tab label="Dimensions">
                <app-dimension-options
                    [dimensionGroup]="dimensionGroup"
                    [marginGroup]="marginGroup"
                    [maxWidth]="options.dimensions.width"
                    [maxHeight]="options.dimensions.height"
                />
            </mat-tab>

            <!-- Axis Tab -->
            <mat-tab label="Axes">

                <mat-tab-group>

                    <mat-tab label="X-Axis">
                        <app-x-axis-options />
                    </mat-tab>

                    <mat-tab label="Y-Axis">
                        <app-y-axis-options />
                    </mat-tab>

                </mat-tab-group>

            </mat-tab>

        </mat-tab-group>

    </mat-dialog-content>

</div>
